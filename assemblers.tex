\chapter{Assemblers}

The short answer is that we recommend that you use the ACME
assembler.  The mnemonics used by ACME are now considered the official
onces for the 45GS02.  KickAsm is also quite suitable. The long answer continues below.

There are any number of assemblers that can be used to develop for the
MEGA65.  However only very few support the MEGA65's advanced CPU
features, or even the C65 4510 instructions.

Four different
assemblers have been used for different parts of the MEGA65 software,
reflecting the rather haphazard history of developing assembler
support for the MEGA65.  The first assembler to support the MEGA65 was
{\bf Ophis}, as it seemed the easiest to patch.  {\bf KickAss} later gained
support, followed by ACME. {\bf ACME} added support at a convenient time, when
the extended instructions, their names and syntax had sufficiently stabilised.

From the perspective of the MEGA65 team, ACME has two advantages over KickAsm:
First, it is open source, which fits the ethos of the project, and ensures long-term
availability. Second, it is written in C, rather than Java, which means that
it may be possible to port to run natively on the MEGA65 at some point in
the future.

Our fork of {\bf CA65} (\url{https://github.com/mega65/cc65}), the assembler
used in CC65, also now has the ability
to detect the MEGA65's CPU, but has no explicit support for the
processor's features.  This is an important fix, however, as otherwise
software using the CC65 processor detection routine thinks that the
MEGA65 has a 65816, which can result in the execution of incompatible
instructions. This causes problems with Synthmark64 0.2, for example.

Bit Shifter's Assembler {\bf BSA} also supports the 45GS02.  The source
for this assembler can be found at \url{https://github.com/Edilbert/BSA}.

The {\bf BSA} Assembler is currently used for the assembly of the source code
of the {\bf MEGA65.ROM}. Most of this source code is written in the syntax
of the ancient {\bf BSO}Â assembler (Boston Systems Office), which was used in the
years 1989 - 1991 by software developers, working on the C65.
The {\bf BSA} Assembler has a compatibility mode, which makes it
possible to assemble these old source codes with minor or none modifications.
The {\bf BSA} Assembler has currently only a description of commands
embedded in the C-source of the assembler.

Therefore a chapter, describing the usage and the features of {\bf BSA}
is started after this chapter and will be completed during the next weeks.

